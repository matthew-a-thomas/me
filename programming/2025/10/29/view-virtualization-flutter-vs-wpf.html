<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A side-by-side comparison">

    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,700;1,300&family=Raleway:wght@700&display=auto">
    
    <title>View Virtualization in Flutter vs WPF - Matthew A. Thomas</title>
  </head>
  <body class="text-justify">
    <div class="container">
      <div class="list-group list-group-flush">
        <div class="list-group-item sticky-top">
          <h3 class="text-center">
  <a class="text-body" href="/" id="title">
    Matthew A. Thomas
  </a>
</h3>
        </div>
        <div class="list-group-item">
          
          <h1>View Virtualization in Flutter vs WPF</h1>
          
          
          <p><i>October 29, 2025&mdash;A side-by-side comparison (<a href="/categories/programming">programming</a>)</i></p>
          
          


          <p>I’m learning some Flutter. I’m more familiar with WPF. Here’s my experience using view virtualization in both.</p>

<h2 id="show-a-list-of-one-billion-numbers">Show a list of one billion numbers</h2>

<p>One billion UI elements will easily overwhelm any naive view implementation. You need view virtualization, so that UI elements aren’t actually created until they’re shown on screen.</p>

<p>It’s easy to tell when there is no view virtualization because with one billion items the UI will freeze for longer than anyone is willing to wait.</p>

<p>Once the numbers are shown, I’ll grab the scrollbar with the mouse and slide it all over the place to see how responsive it is.</p>

<h2 id="wpf">WPF</h2>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Window</span> <span class="na">x:Class=</span><span class="s">"WpfApp12.MainWindow"</span>
        <span class="na">xmlns=</span><span class="s">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span>
        <span class="na">xmlns:x=</span><span class="s">"http://schemas.microsoft.com/winfx/2006/xaml"</span>
        <span class="na">xmlns:d=</span><span class="s">"http://schemas.microsoft.com/expression/blend/2008"</span>
        <span class="na">xmlns:mc=</span><span class="s">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span>
        <span class="na">xmlns:local=</span><span class="s">"clr-namespace:WpfApp12"</span>
        <span class="na">xmlns:system=</span><span class="s">"clr-namespace:System;assembly=System.Runtime"</span>
        <span class="na">mc:Ignorable=</span><span class="s">"d"</span>
        <span class="na">Title=</span><span class="s">"MainWindow"</span> <span class="na">Height=</span><span class="s">"450"</span> <span class="na">Width=</span><span class="s">"800"</span>
        <span class="na">d:DataContext=</span><span class="s">"{d:DesignInstance local:MainViewModel}"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;FrameworkElement.DataContext&gt;</span>
        <span class="nt">&lt;local:MainViewModel</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/FrameworkElement.DataContext&gt;</span>
    <span class="nt">&lt;ItemsControl</span>
        <span class="na">ItemsSource=</span><span class="s">"{Binding Numbers, Mode=OneWay}"</span>
        <span class="na">VirtualizingPanel.ScrollUnit=</span><span class="s">"Pixel"</span>
        <span class="na">VirtualizingPanel.IsVirtualizing=</span><span class="s">"True"</span>
        <span class="na">VirtualizingPanel.VirtualizationMode=</span><span class="s">"Recycling"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ItemsControl.Template&gt;</span>
            <span class="nt">&lt;ControlTemplate&gt;</span>
                <span class="nt">&lt;ScrollViewer</span> <span class="na">CanContentScroll=</span><span class="s">"True"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;ItemsPresenter</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;/ScrollViewer&gt;</span>
            <span class="nt">&lt;/ControlTemplate&gt;</span>
        <span class="nt">&lt;/ItemsControl.Template&gt;</span>
        <span class="nt">&lt;ItemsControl.ItemTemplate&gt;</span>
            <span class="nt">&lt;DataTemplate</span> <span class="na">DataType=</span><span class="s">"{x:Type system:Int64}"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;TextBlock</span> <span class="na">Text=</span><span class="s">"{Binding}"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/DataTemplate&gt;</span>
        <span class="nt">&lt;/ItemsControl.ItemTemplate&gt;</span>
        <span class="nt">&lt;ItemsControl.ItemsPanel&gt;</span>
            <span class="nt">&lt;ItemsPanelTemplate&gt;</span>
                <span class="nt">&lt;VirtualizingStackPanel</span> <span class="na">IsItemsHost=</span><span class="s">"True"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/ItemsPanelTemplate&gt;</span>
        <span class="nt">&lt;/ItemsControl.ItemsPanel&gt;</span>
    <span class="nt">&lt;/ItemsControl&gt;</span>
<span class="nt">&lt;/Window&gt;</span>
</code></pre></div></div>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">namespace</span> <span class="nn">WpfApp12</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">System.Collections.ObjectModel</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.ComponentModel</span><span class="p">;</span>

<span class="k">public</span> <span class="k">sealed</span> <span class="k">class</span> <span class="nc">MainViewModel</span> <span class="p">:</span> <span class="n">INotifyPropertyChanged</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">MainViewModel</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Numbers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ObservableCollection</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">&gt;(</span><span class="n">Enumerable</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1_000_000_000</span><span class="p">).</span><span class="nf">Select</span><span class="p">(</span><span class="n">i</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="kt">long</span><span class="p">)</span><span class="n">i</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">event</span> <span class="n">PropertyChangedEventHandler</span><span class="p">?</span> <span class="n">PropertyChanged</span>
    <span class="p">{</span>
        <span class="k">add</span> <span class="p">{</span> <span class="p">}</span>
        <span class="k">remove</span> <span class="p">{</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="n">ObservableCollection</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">&gt;</span> <span class="n">Numbers</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>WPF supports view virtualization <a href="https://learn.microsoft.com/en-us/dotnet/desktop/wpf/advanced/optimizing-performance-controls#displaying-large-data-sets">out of the box with certain UI elements</a>. But I noticed some jank when I used those, which only got worse the longer I scrolled around. It really felt like GC struggling to keep up. I believe the jank comes from <code class="language-plaintext highlighter-rouge">VirtualizingPanel.VirtualizationMode</code> defaulting to <code class="language-plaintext highlighter-rouge">Standard</code> in which “containers are thrown away when offscreen”. It was much better when I used <code class="language-plaintext highlighter-rouge">Recycling</code>. But that required a lot of boilerplate, as seen in the XAML above.</p>

<p>Preview:
<img src="/assets/img/view-virtualization-flutter-vs-wpf/wpf-one-billion.png" alt="Preview of one billion numbers in a WPF application" /></p>

<p><strong>Time to launch: ~10 seconds</strong>. My educated guess is that’s about how long it takes to populate a list with one billion items.</p>

<p><strong>Responsiveness: great</strong>. The scrollbar is only a frame or two behind the mouse cursor.</p>

<p><strong>Developer experience: meh</strong>. Lots of boilerplate. I had to reach back in memory and read a lot of documentation to re-remember how to do view virtualization, and to learn how to eliminate the jank I mentioned above.</p>

<p><strong>App size: 180K</strong> plus the one-time cost of the .NET desktop runtime.</p>

<h2 id="flutter">Flutter</h2>

<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">runApp</span><span class="p">(</span><span class="kd">const</span> <span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">MyApp</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="o">.</span><span class="na">key</span><span class="p">});</span>

  <span class="kd">static</span> <span class="kd">final</span> <span class="n">numbers</span> <span class="o">=</span> <span class="kt">List</span><span class="o">.</span><span class="na">generate</span><span class="p">(</span><span class="mi">1</span><span class="n">_000_000_000</span><span class="p">,</span> <span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">index</span><span class="p">);</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">Directionality</span><span class="p">(</span>
      <span class="nl">textDirection:</span> <span class="n">TextDirection</span><span class="o">.</span><span class="na">ltr</span><span class="p">,</span>
      <span class="nl">child:</span> <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="p">(</span>
        <span class="nl">itemCount:</span> <span class="n">numbers</span><span class="o">.</span><span class="na">length</span><span class="p">,</span>
        <span class="nl">prototypeItem:</span> <span class="n">Text</span><span class="p">(</span><span class="n">numbers</span><span class="o">.</span><span class="na">last</span><span class="o">.</span><span class="na">toString</span><span class="p">()),</span>
        <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">Text</span><span class="p">(</span><span class="n">numbers</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="na">toString</span><span class="p">()),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Flutter has <code class="language-plaintext highlighter-rouge">ListView.builder</code>. To get a scrollbar you have to pass in <code class="language-plaintext highlighter-rouge">itemCount</code> (otherwise it does an infinite scrolling thing).</p>

<p>Without a <code class="language-plaintext highlighter-rouge">prototypeItem</code> (or <code class="language-plaintext highlighter-rouge">itemExtent</code> or <code class="language-plaintext highlighter-rouge">itemExtentBuilder</code>) the UI will lock up when you grab the scrollbar and try to scroll to the bottom of the list. I assume that’s because it has to materialize a widget for every single item in order to figure out the height of the <em>n</em> items you’re scrolling past.</p>

<p>Preview:
<img src="/assets/img/view-virtualization-flutter-vs-wpf/flutter-one-billion.png" alt="Preview of one billion numbers in a Flutter application" /></p>

<p><strong>Time to launch: ~5 seconds</strong>. Hmm. I guess WPF was doing a lot more work for some reason.</p>

<p><strong>Responsiveness: great</strong>. The scrollbar is only a frame or two behind the mouse cursor.</p>

<p><strong>Developer experience: great</strong>.</p>

<p><strong>App size: 23MB</strong>.</p>

        </div>
        <div class="list-group-item">
          <footer class="font-italic" style="font-size: 0.8em;">
  <p>
    &copy; 2020&ndash;2025 Matthew A. Thomas&mdash;<a href="/about">About</a>&mdash;<a href="/privacy">Privacy Policy</a>
  </p>
</footer>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" crossorigin="anonymous"></script>
  </body>
</html>
<!-- View the source code here: https://github.com/matthew-a-thomas/me -->